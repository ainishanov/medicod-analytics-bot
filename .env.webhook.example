# ============================================
# Medicod Analytics Bot - Webhook Mode
# ============================================

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# Webhook Configuration (для production)
WEBHOOK_URL=https://api.medicod.ru/telegram-webhook
WEBHOOK_SECRET=generate_random_string_minimum_32_chars_here
WEBHOOK_PORT=8443
WEBHOOK_PATH=/telegram-webhook

# Environment
NODE_ENV=production

# Database (если используется SQLite)
DATABASE_PATH=../Medicod_Backend/data/medicod.db

# Service Name (для логов)
SERVICE_NAME=medicod-analytics-bot

# ============================================
# ВАЖНЫЕ ЗАМЕТ КИ:
# ============================================

# 1. WEBHOOK_URL должен быть HTTPS (не HTTP)
# 2. WEBHOOK_SECRET - случайная строка минимум 32 символа
#    Генерация: openssl rand -hex 32
# 3. WEBHOOK_PORT должен быть один из: 443, 80, 88, 8443
# 4. Если используете Nginx reverse proxy - порт может быть любой (например 8443)

# ============================================
# ДЛЯ ЛОКАЛЬНОЙ РАЗРАБОТКИ С NGROK:
# ============================================

# 1. Запустите ngrok: ngrok http 8443
# 2. Скопируйте HTTPS URL из ngrok
# 3. Установите: WEBHOOK_URL=https://abc123.ngrok.io/telegram-webhook
# 4. Запустите: npm run webhook:set && npm run webhook
