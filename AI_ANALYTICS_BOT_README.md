# AI Analytics –≤ Telegram Bot

–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é AI –º–æ–¥–µ–ª–µ–π, —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞.

---

## ü§ñ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### 1. `/ai` - –û–±—â–∞—è AI –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–¥–∫—É –ø–æ –≤—Å–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é AI:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–æ—Ü–µ–Ω—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö vs –ø–ª–∞—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–æ–≥–Ω–æ–∑ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –º–µ—Å—è—Ü

**–ü—Ä–∏–º–µ—Ä:**
```
ü§ñ AI –ê–ù–ê–õ–ò–¢–ò–ö–ê
–ü–µ—Ä–∏–æ–¥: 29.10.2025 - 05.11.2025

üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
‚Ä¢ –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 8
‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –º–æ–¥–µ–ª–µ–π: 2
‚Ä¢ –í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤: 0
‚Ä¢ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: FREE
‚Ä¢ –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 1177ms

üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:
‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö: 8 (100%)
‚Ä¢ –ü–ª–∞—Ç–Ω—ã—Ö: 0

üîÆ –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –º–µ—Å—è—Ü:
‚Ä¢ –ó–∞–ø—Ä–æ—Å–æ–≤: ~34
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å: ~FREE
```

---

### 2. `/aimodels` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–æ–¥–µ–ª—è–º

–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- –°—Ç–æ–∏–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤

**–ü—Ä–∏–º–µ—Ä:**
```
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–û AI –ú–û–î–ï–õ–Ø–ú

1. gpt-4o-mini
   ‚Ä¢ –ó–∞–ø—Ä–æ—Å–æ–≤: 7
   ‚Ä¢ –¢–æ–∫–µ–Ω–æ–≤: 0
   ‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å: FREE
   ‚Ä¢ –°—Ä. –≤—Ä–µ–º—è: 1255ms

2. gemini-2.0-flash
   ‚Ä¢ –ó–∞–ø—Ä–æ—Å–æ–≤: 1
   ‚Ä¢ –¢–æ–∫–µ–Ω–æ–≤: 0
   ‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å: FREE
   ‚Ä¢ –°—Ä. –≤—Ä–µ–º—è: 634ms

üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ 1K —Ç–æ–∫–µ–Ω–æ–≤:
‚Ä¢ gemini-2.0-flash: $0.000000
```

---

### 3. `/aicost` - –ê–Ω–∞–ª–∏–∑ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

–§–æ–∫—É—Å –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö:
- –û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã
- –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞
- –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –º–µ—Å—è—Ü (–Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 7 –¥–Ω–µ–π)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∏ –ø–ª–∞—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –¢–æ–ø-5 —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä:**
```
üí∞ –ê–ù–ê–õ–ò–ó –°–¢–û–ò–ú–û–°–¢–ò AI

üìä –û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã:
‚Ä¢ –í—Å–µ–≥–æ: FREE
‚Ä¢ –°—Ä–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å: FREE

üîÆ –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –º–µ—Å—è—Ü:
‚Ä¢ –ó–∞ 7 –¥–Ω–µ–π: FREE
‚Ä¢ –ü—Ä–æ–≥–Ω–æ–∑ 30 –¥–Ω–µ–π: FREE

üÜì –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ: 100%
‚Ä¢ –ü–ª–∞—Ç–Ω—ã–µ: 0.00%

üí∏ –¢–æ–ø-5 –¥–æ—Ä–æ–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
(–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í Telegram –±–æ—Ç–µ:

1. **–ß–µ—Ä–µ–∑ –º–µ–Ω—é:**
   - –û—Ç–ø—Ä–∞–≤—å `/help` –∏–ª–∏ `/start`
   - –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "ü§ñ AI –ê–Ω–∞–ª–∏—Ç–∏–∫–∞"

2. **–ü—Ä—è–º–∞—è –∫–æ–º–∞–Ω–¥–∞:**
   ```
   /ai           - –û–±—â–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
   /aimodels     - –ü–æ –º–æ–¥–µ–ª—è–º
   /aicost       - –ê–Ω–∞–ª–∏–∑ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
   ```

3. **Inline –∫–Ω–æ–ø–∫–∏:**
   - –ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –∏–º–µ–µ—Ç –∫–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏

---

## üìä –î–∞–Ω–Ω—ã–µ

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ **–Ω–∞–ø—Ä—è–º—É—é –∏–∑ SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** Medicod Backend:

- –§–∞–π–ª: `/var/www/medicod-backend/data/medicod.db`
- –¢–∞–±–ª–∏—Ü–∞: `analyses`
- –ü–æ–ª—è: `ai_model`, `prompt_tokens`, `completion_tokens`, `total_tokens`, `ai_cost_usd`

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
Telegram Bot
    ‚Üì
botCommands.js (handleAIAnalyticsCommand, handleAIModelsCommand, handleAICostCommand)
    ‚Üì
aiAnalyticsQueries.js (getAITotalStats, getAIModelUsageStats, etc.)
    ‚Üì
database.js (getDatabaseInstance)
    ‚Üì
SQLite DB: /var/www/medicod-backend/data/medicod.db
```

### –§–∞–π–ª—ã:

- `Medicod_Analytics_Bot/src/botCommands.js` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
- `Medicod_Analytics_Bot/src/aiAnalyticsQueries.js` - SQL –∑–∞–ø—Ä–æ—Å—ã
- `Medicod_Analytics_Bot/src/database.js` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤:
```
/aicost  ‚Üí  –ü—Ä–æ–≤–µ—Ä—å, –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ–º –ª–∏ –±—é–¥–∂–µ—Ç
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π:
```
/aimodels  ‚Üí  –£–∑–Ω–∞–π, –∫–∞–∫–∞—è –º–æ–¥–µ–ª—å –±—ã—Å—Ç—Ä–µ–µ –∏ –¥–µ—à–µ–≤–ª–µ
```

### –û–±—â–∏–π –æ–±–∑–æ—Ä:
```
/ai  ‚Üí  –ü–æ–ª—É—á–∏ –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI
```

---

## üìà –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ö–æ–º–∞–Ω–¥—ã AI –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞:

```
/help  ‚Üí  ü§ñ AI –ê–Ω–∞–ª–∏—Ç–∏–∫–∞  ‚Üí  /ai, /aimodels, /aicost
```

–° –∫–Ω–æ–ø–∫–∞–º–∏ –±—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏.

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ê–ª–µ—Ä—Ç—ã:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞
2. **–ì—Ä–∞—Ñ–∏–∫–∏:** –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. **–≠–∫—Å–ø–æ—Ä—Ç:** –í—ã–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ CSV/Excel
4. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤:** "–≠—Ç–æ—Ç –º–µ—Å—è—Ü vs –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü"

---

**–°–æ–∑–¥–∞–Ω–æ:** 5 –Ω–æ—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 1.0.0
